alias: Nibe - Max Framledning till Modbus
description: Skriver max framledning frÃ¥n input till register 38
trigger:
  - platform: state
    entity_id: input_number.max_framledning
condition:
  - condition: template
    value_template: >
      {{ trigger.to_state.context.user_id is not none or 
         trigger.to_state.context.parent_id is not none }}
action:
  - service: modbus.write_register
    data:
      hub: Nibe
      slave: 1
      address: 38
      value: "{{ (states('input_number.max_framledning') | float * 10) | int }}"
mode: single